{"version":3,"sources":["./src/app/last-position-car/last-position-car-routing.module.ts","./src/app/last-position-car/last-position-car.module.ts","./src/app/last-position-car/last-position-car.page.ts","./src/app/last-position-car/last-position-car.page.scss","./src/app/last-position-car/last-position-car.page.html"],"names":[],"mappings":"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","file":"src_app_last-position-car_last-position-car_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LastPositionCarPage } from './last-position-car.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LastPositionCarPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LastPositionCarPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LastPositionCarPageRoutingModule } from './last-position-car-routing.module';\n\nimport { LastPositionCarPage } from './last-position-car.page';\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LastPositionCarPageRoutingModule,\n    Ng2SearchPipeModule\n  ],\n  declarations: [LastPositionCarPage]\n})\nexport class LastPositionCarPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { GpsService } from 'src/app/api/gps.service';\nimport * as xml2js from 'xml2js';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { ModalController } from '@ionic/angular';\n//import { GooglemapsComponent } from 'src/app/googlemaps/googlemaps.component';\nimport { GooglemapsComponent } from 'src/app/googlemapsWayPoints/googlemapsWayPoints.component';\n@Component({\n  selector: 'app-last-position-car',\n  templateUrl: './last-position-car.page.html',\n  styleUrls: ['./last-position-car.page.scss'],\n})\nexport class LastPositionCarPage implements OnInit {\n  public folder: string;\n  xml;\n  informationDevice;\n  eventDataInformation;\n  address = {\n    thoroughfare: undefined,\n    locality: undefined,\n    administrativeArea: undefined,\n    countryName: undefined\n  };\n\n\n  // var response evendata\n  car;\n  timeGPS;\n  icon;\n  // coordinates\n  lng;\n  lat;\n  // data car\n  speedKPH;\n  statusCode;\n  valueCode;\n  dataListDevice: any[] = [];\n  listFinal;\n  deviceID;\n\n  searchTerm: string;\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private gpsService: GpsService,\n    private nativeGeocoder: NativeGeocoder,\n    public modalController: ModalController,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.getInfoDevice();\n  }\n\n  getInfoDevice() {\n    let bodyDeviceID =\n      '<GTSRequest command=\"dbget\">' +\n      ' <Authorization account=\"' +\n      localStorage.getItem('account') +\n      '\" user=\"' +\n      localStorage.getItem('user') +\n      '\" password=\"' +\n      localStorage.getItem('password') +\n      '\"/>' +\n      '<RecordKey table=\"Device\" partial=\"true\">' +\n      '<Field name=\"accountID\">' +\n      localStorage.getItem('account') +\n      '</Field>' +\n      '</RecordKey></GTSRequest>';\n\n    this.folder = this.activatedRoute.snapshot.paramMap.get('id');\n    this.gpsService.postDeviceID(bodyDeviceID).then((res) => {\n      const parser = new xml2js.Parser({ strict: false, trim: true });\n      parser.parseString(res.data, (err, result) => {\n        this.xml = result;\n\n        let multipleDevice = this.xml.GTSRESPONSE.RECORDKEY;\n        for (let i = 0; i < multipleDevice.length; i++) {\n          localStorage.setItem('deviceID' + i, multipleDevice[i].FIELD[1]._);\n\n          this.getMultipleDevice(multipleDevice[i].FIELD[1]._);\n\n        }\n\n\n      });\n\n    }).catch(error => {\n      this.goToHome();\n      alert('¡Al parecer tenemos inconvenientes, por favor revisar su conexión a internet o intentar más tarde.!');\n    });\n\n  }\n\n\n  getMultipleDevice(deviceID) {\n    let deviceInformation =\n      '<GTSRequest command=\"dbget\">' +\n      ' <Authorization account=\"' +\n      localStorage.getItem('account') +\n      '\" user=\"' +\n      localStorage.getItem('user') +\n      '\" password=\"' +\n      localStorage.getItem('password') +\n      '\"/>' +\n      '<Record table=\"Device\">' +\n      '<Field name=\"accountID\">' +\n      localStorage.getItem('account') +\n      '</Field>' +\n      '<Field name=\"deviceID\">' +\n      deviceID +\n      '</Field>' +\n      '</Record></GTSRequest>';\n\n    this.gpsService\n      .postDeviceInformation(deviceInformation)\n      .then((resInformation) => {\n        const parserInformation = new xml2js.Parser({\n          strict: false,\n          trim: true,\n        });\n        parserInformation.parseString(resInformation.data, (err, result) => {\n          this.informationDevice = result;\n\n          let icnFl = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[27]._;\n\n          if (icnFl == '4x4' || icnFl == 'bltruck' || icnFl == 'bus' || icnFl == 'excav' ||\n            icnFl == 'grnbike' || icnFl == 'grua' || icnFl == 'h100' || icnFl == 'medi' ||\n            icnFl == 'moto' || icnFl == 'policia' || icnFl == 'rcar' || icnFl == 'remolque' ||\n            icnFl == 'taxi' || icnFl == 'yeltruck') {\n            this.icon = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[27]._;\n          } else {\n            this.icon = 'rcar';\n          }\n\n          this.car = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[91]._;\n\n          this.timeGPS = this.getTime(this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[75]._);\n\n          this.lat = parseFloat(this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[72]._);\n          this.lng = parseFloat(this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[73]._);\n\n          this.getEventData(deviceID, this.timeGPS, this.car, this.lat, this.lng, this.icon);\n\n        });\n      }).catch(error => alert(error.message));\n\n\n  }\n\n  getEventData(deviceID, timeGPS, car, lat, lng, icon) {\n    let eventData =\n      '<GTSRequest command=\"eventdata\">' +\n      ' <Authorization account=\"' +\n      localStorage.getItem('account') +\n      '\" user=\"' +\n      localStorage.getItem('user') +\n      '\" password=\"' +\n      localStorage.getItem('password') +\n      '\"/>' +\n      '<EventData>' +\n      '<Device>' + deviceID + '</Device>' +\n      '<TimeFrom timezone=\"EC/Pacific\">' + timeGPS + '</TimeFrom>' +\n      '<TimeTo timezone=\"EC/Pacific\">' + timeGPS + '</TimeTo>' +\n      '<Field name=\"speedKPH\"/>' +\n      '<Field name=\"address\"/>' +\n      '<Field name=\"statusdesc\"/>' +\n      '<Field name=\"latitude\"/>' +\n      '<Field name=\"longitude\"/>' +\n      '</EventData></GTSRequest>';\n\n    this.gpsService.\n      postEventData(eventData)\n      .then((resEventData) => {\n        const parserInformation = new xml2js.Parser({\n          strict: false,\n          trim: true,\n        });\n        parserInformation.parseString(resEventData.data, (err, result) => {\n          this.eventDataInformation = result;\n          this.address = this.eventDataInformation.GTSRESPONSE.RECORD[0].FIELD[7]._;\n          this.speedKPH = this.eventDataInformation.GTSRESPONSE.RECORD[0].FIELD[6]._;\n          this.statusCode = this.eventDataInformation.GTSRESPONSE.RECORD[0].FIELD[3]._;\n          switch (this.statusCode) {\n            case '0xF010':\n              this.valueCode = 'Inicializado';\n              break;\n            case '0xF020':\n              this.valueCode = 'Localización';\n              break;\n            case '0xF040':\n              this.valueCode = 'Consulta';\n              break;\n            case '0xF111':\n              this.valueCode = 'Encendido';\n              break;\n            case '0xF112':\n              this.valueCode = 'En movimiento';\n              break;\n            case '0xF113':\n              this.valueCode = 'Detenido';\n              break;\n            case '0xF11A':\n              this.valueCode = 'Exceso de velocidad';\n              break;\n            case '0xF11C':\n              this.valueCode = 'Motor';\n              break;\n            case '0xF210':\n              this.valueCode = 'Arribar';\n              break;\n            case '0xF230':\n              this.valueCode = 'Salir';\n              break;\n            default:\n              this.valueCode = 'Detenido';\n          }\n\n          let options = {\n            deviceId: deviceID,\n            address: this.address,\n            speedKPH: parseFloat(this.speedKPH).toFixed(2),\n            valueCode: this.valueCode,\n            car: car,\n            timeGPS: timeGPS,\n            lat: lat,\n            lng: lng,\n            icon: icon\n          }\n          this.dataListDevice.push(options);\n\n        });\n\n        this.listFinal = this.dataListDevice;\n      }).catch(error => 'alert(error.message)');\n\n  }\n\n  async addDirection(deviceId: any) {\n\n    /* let position = {\n      lat: lat,\n      lng: lng\n    };\n\n    let label = {\n      titulo: car,\n      valueCode: valueCode,\n      subtitulo: address,\n      speedKPH: speedKPH,\n      icon: icon\n    } */\n\n    let deviceID = {\n      dvcID: deviceId\n    }\n\n    const modalAdd = await this.modalController.create({\n      component: GooglemapsComponent,\n      mode: 'ios',\n      swipeToClose: true,\n      componentProps: { deviceID: deviceID }\n    });\n\n    await modalAdd.present();\n\n\n\n  }\n\n  goToHome() {\n    this.router.navigateByUrl('/home');\n  }\n\n\n\n  getTime(time) {\n\n    const timeParse = parseFloat(time);\n\n    const milliseconds = timeParse * 1000;\n\n    const unixTimestamp = new Date(milliseconds);\n\n    // adjust 0 before single digit date\n    let date = (\"0\" + unixTimestamp.getDate()).slice(-2);\n\n    // current month\n    let month = (\"0\" + (unixTimestamp.getMonth() + 1)).slice(-2);\n\n    // current year\n    let year = unixTimestamp.getFullYear();\n\n    // current hours\n    let hours = unixTimestamp.getHours();\n\n    // current minutes\n    let minutes = unixTimestamp.getMinutes();\n\n    // current seconds\n    let seconds = unixTimestamp.getSeconds();\n\n    let formatDate = year + \"-\" + month + \"-\" + date + \" \" + hours + \":\" + minutes + \":\" + seconds;\n\n    //  const timeFinal = unixTimestamp.toLocaleString().slice(0, 19).replace('T', ' ');\n\n    return formatDate;\n\n  }\n}\n","export default \"ion-menu-button {\\n  color: var(--ion-color-primary);\\n}\\n\\n#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n\\n.new-background-color {\\n  --background: #6B9727;\\n}\\n\\n.icon-arrow {\\n  padding-left: 5px;\\n  height: 30px;\\n  width: 30px;\\n  color: white;\\n}\\n\\n.custom-skeleton ion-skeleton-text {\\n  line-height: 13px;\\n}\\n\\n.custom-skeleton ion-skeleton-text:last-child {\\n  margin-bottom: 5px;\\n}\\n\\n.custom-ion-title {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhc3QtcG9zaXRpb24tY2FyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLCtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDSSxxQkFBQTtBQUNKOztBQUVBO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFDRjs7QUFDQTtFQUNFLGlCQUFBO0FBRUY7O0FBQ0E7RUFDRSxrQkFBQTtBQUVGOztBQUNBO0VBQ0UsWUFBQTtBQUVGIiwiZmlsZSI6Imxhc3QtcG9zaXRpb24tY2FyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1tZW51LWJ1dHRvbiB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbiNjb250YWluZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcbiAgY29sb3I6ICM4YzhjOGM7XG4gIG1hcmdpbjogMDtcbn1cblxuI2NvbnRhaW5lciBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG4ubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjNkI5NzI3O1xufVxuXG4uaWNvbi1hcnJvdyB7XG4gIHBhZGRpbmctbGVmdDogNXB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIHdpZHRoOiAzMHB4O1xuICBjb2xvcjogd2hpdGU7XG59XG4uY3VzdG9tLXNrZWxldG9uIGlvbi1za2VsZXRvbi10ZXh0IHtcbiAgbGluZS1oZWlnaHQ6IDEzcHg7XG59XG5cbi5jdXN0b20tc2tlbGV0b24gaW9uLXNrZWxldG9uLXRleHQ6bGFzdC1jaGlsZCB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuLmN1c3RvbS1pb24tdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-icon (click)=\\\"goToHome()\\\" slot=\\\"start\\\" name=\\\"arrow-back\\\" class=\\\"icon-arrow\\\"></ion-icon>\\n    <ion-title class=\\\"custom-ion-title\\\">{{ folder }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div *ngIf=\\\"listFinal; else skeleton\\\">\\n    <ion-searchbar placeholder='Busca tu vehículo' [(ngModel)]=\\\"searchTerm\\\" showCancelButton=\\\"focus\\\" animanted>\\n    </ion-searchbar>\\n    <ion-list *ngFor=\\\"let dld of listFinal | filter:searchTerm\\\">\\n      <ion-item (click)=\\\"addDirection(dld.deviceId)\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"assets/img/{{dld.icon}}.png\\\">\\n        </ion-avatar>\\n        <!-- <ion-icon slot=\\\"start\\\" name=\\\"car\\\"></ion-icon> -->\\n        <ion-label style=\\\"color: rgb(32, 137, 178)\\\">{{dld.car}} <br />\\n          <p style=\\\"color: grey\\\">\\n            {{dld.address}} <br>\\n            ({{dld.speedKPH}} km/h) {{dld.valueCode}}\\n          </p>\\n          <p style=\\\"color: grey\\\">{{dld.timeGPS}}</p>\\n        </ion-label>\\n        <br />\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <ng-template #skeleton>\\n\\n    <ion-list>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </ng-template>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}