{"version":3,"sources":["./src/app/list-car-report/list-car-report-routing.module.ts","./src/app/list-car-report/list-car-report.module.ts","./src/app/list-car-report/list-car-report.page.ts","./src/app/list-car-report/list-car-report.page.scss","./src/app/list-car-report/list-car-report.page.html"],"names":[],"mappings":"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","file":"src_app_list-car-report_list-car-report_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListCarReportPage } from './list-car-report.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListCarReportPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListCarReportPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListCarReportPageRoutingModule } from './list-car-report-routing.module';\n\nimport { ListCarReportPage } from './list-car-report.page';\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListCarReportPageRoutingModule,\n    Ng2SearchPipeModule\n  ],\n  declarations: [ListCarReportPage]\n})\nexport class ListCarReportPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { GpsService } from 'src/app/api/gps.service';\nimport * as xml2js from 'xml2js';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\n\n\n@Component({\n  selector: 'app-list-car-report',\n  templateUrl: './list-car-report.page.html',\n  styleUrls: ['./list-car-report.page.scss'],\n})\nexport class ListCarReportPage implements OnInit {\n  public folder: string;\n  xml;\n  informationDevice;\n  eventDataInformation;\n  address = {\n    thoroughfare: undefined,\n    locality: undefined,\n    administrativeArea: undefined,\n    countryName: undefined\n  };\n\n\n  // var response evendata\n  car;\n  timeGPS;\n  icon;\n  modelGPS;\n  deviceID;\n  // coordinates\n  lng;\n  lat;\n  // data car\n  speedKPH;\n  statusCode;\n  valueCode;\n  dataListDevice: any[] = [];\n  listFinal;\n  searchTerm: string;\n  constructor(private activatedRoute: ActivatedRoute,\n    private gpsService: GpsService,\n    private router: Router) { }\n\n  ngOnInit() {\n    this.getInfoDevice();\n  }\n\n  getInfoDevice() {\n    let bodyDeviceID =\n      '<GTSRequest command=\"dbget\">' +\n      ' <Authorization account=\"' +\n      localStorage.getItem('account') +\n      '\" user=\"' +\n      localStorage.getItem('user') +\n      '\" password=\"' +\n      localStorage.getItem('password') +\n      '\"/>' +\n      '<RecordKey table=\"Device\" partial=\"true\">' +\n      '<Field name=\"accountID\">' +\n      localStorage.getItem('account') +\n      '</Field>' +\n      '</RecordKey></GTSRequest>';\n\n    this.folder = this.activatedRoute.snapshot.paramMap.get('id');\n    this.gpsService.postDeviceID(bodyDeviceID).then((res) => {\n      const parser = new xml2js.Parser({ strict: false, trim: true });\n      parser.parseString(res.data, (err, result) => {\n        this.xml = result;\n\n        let multipleDevice = this.xml.GTSRESPONSE.RECORDKEY;\n        for (let i = 0; i < multipleDevice.length; i++) {\n          localStorage.setItem('deviceID' + i, multipleDevice[i].FIELD[1]._);\n          this.getMultipleDevice(multipleDevice[i].FIELD[1]._);\n        }\n      });\n\n    }).catch(error => {\n      this.goToHome();\n      alert('¡Al parecer tenemos inconvenientes, por favor revisar su conexión a internet o intentar más tarde.!');\n    });\n\n  }\n\n\n  getMultipleDevice(deviceID) {\n    let deviceInformation =\n      '<GTSRequest command=\"dbget\">' +\n      ' <Authorization account=\"' +\n      localStorage.getItem('account') +\n      '\" user=\"' +\n      localStorage.getItem('user') +\n      '\" password=\"' +\n      localStorage.getItem('password') +\n      '\"/>' +\n      '<Record table=\"Device\">' +\n      '<Field name=\"accountID\">' +\n      localStorage.getItem('account') +\n      '</Field>' +\n      '<Field name=\"deviceID\">' +\n      deviceID +\n      '</Field>' +\n      '</Record></GTSRequest>';\n\n    this.gpsService\n      .postDeviceInformation(deviceInformation)\n      .then((resInformation) => {\n        const parserInformation = new xml2js.Parser({\n          strict: false,\n          trim: true,\n        });\n        parserInformation.parseString(resInformation.data, (err, result) => {\n          this.informationDevice = result;\n\n          this.car = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[91]._;\n          this.modelGPS = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[3]._;\n          this.deviceID = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[1]._;\n\n          let options = {\n            car: this.car,\n            modelGPS: this.modelGPS,\n            deviceID: this.deviceID\n\n          }\n          this.dataListDevice.push(options);\n\n        });\n      }).catch(error => alert(error.message));\n\n\n  }\n\n\n  async goToReportSearch(deviceID: any) {\n    this.router.navigate(['/car-report-search/' + deviceID], { queryParams: { deviceID: deviceID } });\n\n  }\n\n  goToHome() {\n    this.router.navigateByUrl('/home');\n  }\n\n\n\n\n}\n","export default \"ion-icon {\\n  color: #FFF150;\\n}\\n\\n.icon-arrow {\\n  padding-left: 5px;\\n  height: 30px;\\n  width: 30px;\\n  color: white;\\n}\\n\\n.custom-ion-title {\\n  color: white;\\n}\\n\\n.new-background-color {\\n  --background: #6B9727;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtY2FyLXJlcG9ydC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQSxjQUFBO0FBQ0E7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUVBO0VBQ0kscUJBQUE7QUFDSiIsImZpbGUiOiJsaXN0LWNhci1yZXBvcnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWljb24ge1xuY29sb3I6ICNGRkYxNTA7XG59XG5cbi5pY29uLWFycm93IHtcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gIGhlaWdodDogMzBweDtcbiAgd2lkdGg6IDMwcHg7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmN1c3RvbS1pb24tdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5uZXctYmFja2dyb3VuZC1jb2xvcntcbiAgICAtLWJhY2tncm91bmQ6ICM2Qjk3Mjc7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-icon (click)=\\\"goToHome()\\\" slot=\\\"start\\\" name=\\\"arrow-back\\\" class=\\\"icon-arrow\\\"></ion-icon>\\n    <ion-title class=\\\"custom-ion-title\\\">{{ folder }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div *ngIf=\\\"dataListDevice; else skeleton\\\">\\n    <ion-searchbar placeholder='Busca tu vehículo' [(ngModel)]=\\\"searchTerm\\\" showCancelButton=\\\"focus\\\" animanted>\\n    </ion-searchbar>\\n    <ion-list *ngFor=\\\"let dld of dataListDevice | filter:searchTerm\\\">\\n\\n      <!-- <ion-item (click)=\\\"addDirection(dld.lat,dld.lng, dld.car, dld.address, dld.valueCode, dld.speedKPH,dld.icon)\\\"> -->\\n      <ion-item>\\n        <ion-icon slot=\\\"start\\\" name=\\\"document\\\"></ion-icon>\\n        <ion-label style=\\\"color: rgb(32, 137, 178)\\\">{{dld.car}} <br />\\n          <p style=\\\"color: grey\\\">\\n            <!--  Modelo Equipo: {{dld.modelGPS}} <br> -->\\n            <!-- Código Dispositivo: {{dld.deviceID}} -->\\n          </p>\\n        </ion-label>\\n        <ion-buttons slot=\\\"end\\\">\\n          <ion-button (click)=\\\"goToReportSearch(dld.deviceID)\\\">\\n            <ion-icon slot=\\\"icon-only\\\" ios=\\\"options\\\" md=\\\"ellipsis-vertical\\\"></ion-icon>\\n          </ion-button>\\n        </ion-buttons>\\n        <br />\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <ng-template #skeleton>\\n\\n    <ion-list>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </ng-template>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}