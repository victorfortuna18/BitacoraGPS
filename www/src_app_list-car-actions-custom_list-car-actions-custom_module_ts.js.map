{"version":3,"sources":["./src/app/list-car-actions-custom/list-car-actions-custom-routing.module.ts","./src/app/list-car-actions-custom/list-car-actions-custom.module.ts","./src/app/list-car-actions-custom/list-car-actions-custom.page.ts","./src/app/list-car-actions-custom/list-car-actions-custom.page.scss","./src/app/list-car-actions-custom/list-car-actions-custom.page.html"],"names":[],"mappings":"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","file":"src_app_list-car-actions-custom_list-car-actions-custom_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListCarActionsCustomPage } from './list-car-actions-custom.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListCarActionsCustomPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListCarActionsCustomPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListCarActionsCustomPageRoutingModule } from './list-car-actions-custom-routing.module';\n\nimport { ListCarActionsCustomPage } from './list-car-actions-custom.page';\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListCarActionsCustomPageRoutingModule,\n    Ng2SearchPipeModule\n  ],\n  declarations: [ListCarActionsCustomPage]\n})\nexport class ListCarActionsCustomPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { GpsService } from 'src/app/api/gps.service';\nimport * as xml2js from 'xml2js';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { ModalController, PopoverController } from '@ionic/angular';\nimport { GooglemapsComponent } from 'src/app/googlemaps/googlemaps.component';\nimport { ActioncarrComponent } from '../actioncarr/actioncarr.component';\n\n@Component({\n  selector: 'app-list-car-actions-custom',\n  templateUrl: './list-car-actions-custom.page.html',\n  styleUrls: ['./list-car-actions-custom.page.scss'],\n})\nexport class ListCarActionsCustomPage implements OnInit {\n  public folder: string;\n  xml;\n  informationDevice;\n  eventDataInformation;\n  address = {\n    thoroughfare: undefined,\n    locality: undefined,\n    administrativeArea: undefined,\n    countryName: undefined\n  };\n\n\n  // var response evendata\n  car;\n  timeGPS;\n  icon;\n  modelGPS;\n  simNumber;\n  // coordinates\n  lng;\n  lat;\n  // data car\n  speedKPH;\n  statusCode;\n  valueCode;\n  dataListDevice: any[] = [];\n  listFinal;\n  searchTerm: string;\n  constructor(private activatedRoute: ActivatedRoute,\n    private gpsService: GpsService,\n    private nativeGeocoder: NativeGeocoder,\n    public modalController: ModalController,\n    private router: Router,\n    public popoverController: PopoverController) { }\n\n  ngOnInit() {\n    this.getInfoDevice();\n  }\n\n  getInfoDevice() {\n    let bodyDeviceID =\n      '<GTSRequest command=\"dbget\">' +\n      ' <Authorization account=\"' +\n      localStorage.getItem('account') +\n      '\" user=\"' +\n      localStorage.getItem('user') +\n      '\" password=\"' +\n      localStorage.getItem('password') +\n      '\"/>' +\n      '<RecordKey table=\"Device\" partial=\"true\">' +\n      '<Field name=\"accountID\">' +\n      localStorage.getItem('account') +\n      '</Field>' +\n      '</RecordKey></GTSRequest>';\n\n    this.folder = this.activatedRoute.snapshot.paramMap.get('id');\n    this.gpsService.postDeviceID(bodyDeviceID).then((res) => {\n      const parser = new xml2js.Parser({ strict: false, trim: true });\n      parser.parseString(res.data, (err, result) => {\n        this.xml = result;\n\n        let multipleDevice = this.xml.GTSRESPONSE.RECORDKEY;\n        for (let i = 0; i < multipleDevice.length; i++) {\n          localStorage.setItem('deviceID' + i, multipleDevice[i].FIELD[1]._);\n          this.getMultipleDevice(multipleDevice[i].FIELD[1]._);\n        }\n      });\n\n    }).catch(error => {\n      this.goToHome();\n      alert('¡Al parecer tenemos inconvenientes, por favor revisar su conexión a internet o intentar más tarde.!')\n    });\n\n  }\n\n\n  getMultipleDevice(deviceID) {\n    let deviceInformation =\n      '<GTSRequest command=\"dbget\">' +\n      ' <Authorization account=\"' +\n      localStorage.getItem('account') +\n      '\" user=\"' +\n      localStorage.getItem('user') +\n      '\" password=\"' +\n      localStorage.getItem('password') +\n      '\"/>' +\n      '<Record table=\"Device\">' +\n      '<Field name=\"accountID\">' +\n      localStorage.getItem('account') +\n      '</Field>' +\n      '<Field name=\"deviceID\">' +\n      deviceID +\n      '</Field>' +\n      '</Record></GTSRequest>';\n\n    this.gpsService\n      .postDeviceInformation(deviceInformation)\n      .then((resInformation) => {\n        const parserInformation = new xml2js.Parser({\n          strict: false,\n          trim: true,\n        });\n        parserInformation.parseString(resInformation.data, (err, result) => {\n          this.informationDevice = result;\n\n          this.car = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[91]._;\n          this.modelGPS = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[3]._;\n          this.simNumber = this.informationDevice.GTSRESPONSE.RECORD[0].FIELD[30]._;\n\n          let options = {\n            car: this.car,\n            modelGPS: this.modelGPS,\n            simNumber: this.simNumber\n          }\n          this.dataListDevice.push(options);\n\n        });\n      }).catch(error => alert(error.message));\n\n\n  }\n\n\n  async addDirection(modelGPS: any, simNumber: any, car: any) {\n    this.router.navigate(['/custom-message'], { state: simNumber });\n  }\n\n  goToHome() {\n    this.router.navigateByUrl('/home');\n  }\n\n\n\n\n}\n","export default \".new-background-color {\\n  --background: #6B9727;\\n}\\n\\n.icon-arrow {\\n  padding-left: 5px;\\n  height: 30px;\\n  width: 30px;\\n  color: white;\\n}\\n\\n.custom-ion-title {\\n  color: white;\\n}\\n\\n.new-background-color {\\n  --background: #6B9727;\\n}\\n\\nion-icon {\\n  color: #FFF150;\\n}\\n\\nion-button {\\n  --background: #6B9727;\\n  --border-radius: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtY2FyLWFjdGlvbnMtY3VzdG9tLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FBQ0o7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUVBO0VBQ0kscUJBQUE7QUFDSjs7QUFFQTtFQUNBLGNBQUE7QUFDQTs7QUFFQTtFQUNFLHFCQUFBO0VBQ0EscUJBQUE7QUFDRiIsImZpbGUiOiJsaXN0LWNhci1hY3Rpb25zLWN1c3RvbS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjNkI5NzI3O1xufVxuXG4uaWNvbi1hcnJvdyB7XG4gIHBhZGRpbmctbGVmdDogNXB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIHdpZHRoOiAzMHB4O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5jdXN0b20taW9uLXRpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjNkI5NzI3O1xufVxuXG5pb24taWNvbiB7XG5jb2xvcjogI0ZGRjE1MDtcbn1cblxuaW9uLWJ1dHRvbntcbiAgLS1iYWNrZ3JvdW5kOiAjNkI5NzI3O1xuICAtLWJvcmRlci1yYWRpdXM6IDIwcHg7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-icon (click)=\\\"goToHome()\\\" slot=\\\"start\\\" name=\\\"arrow-back\\\" class=\\\"icon-arrow\\\"></ion-icon>\\n    <ion-title class=\\\"custom-ion-title\\\">{{ folder }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div *ngIf=\\\"dataListDevice; else skeleton\\\">\\n    <ion-searchbar placeholder='Busca tu vehículo' [(ngModel)]=\\\"searchTerm\\\" showCancelButton=\\\"focus\\\" animanted>\\n    </ion-searchbar>\\n    <ion-list *ngFor=\\\"let dld of dataListDevice | filter:searchTerm\\\">\\n\\n      <!-- <ion-item (click)=\\\"addDirection(dld.lat,dld.lng, dld.car, dld.address, dld.valueCode, dld.speedKPH,dld.icon)\\\"> -->\\n      <ion-item>\\n        <ion-icon slot=\\\"start\\\" name=\\\"navigate\\\"></ion-icon>\\n        <ion-label style=\\\"color: rgb(32, 137, 178)\\\">{{dld.car}} <br />\\n          <p style=\\\"color: grey\\\">\\n            <!-- Modelo Equipo: {{dld.modelGPS}} <br> -->\\n            <!-- Teléfono GPS: {{dld.simNumber}} -->\\n          </p>\\n        </ion-label>\\n        <ion-buttons slot=\\\"end\\\">\\n          <ion-button (click)=\\\"addDirection(dld.modelGPS,dld.simNumber,dld.car)\\\">\\n            <ion-icon slot=\\\"icon-only\\\" ios=\\\"mail\\\" md=\\\"mail\\\"></ion-icon>\\n          </ion-button>\\n        </ion-buttons>\\n        <br />\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <ng-template #skeleton>\\n\\n    <ion-list>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-skeleton-text animated style=\\\"width: 27px; height: 27px\\\" slot=\\\"start\\\"></ion-skeleton-text>\\n        <ion-label>\\n          <h3>\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          </h3>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          </p>\\n          <p>\\n            <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </ng-template>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}